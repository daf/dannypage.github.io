<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Tweet Score Board</title>
  <link rel="stylesheet" type="text/css" href="/css/basscss.min.css">
  <script type="text/javascript" src="/js/jquery/jquery-2.1.4.min.js"></script>
  <script type="text/javascript" src="/templates/templates.js"></script>
  <script type="text/javascript" src="/templates/ga.js"></script>
</head>
<body>
  <div id="navHeader"></div>

  <section class="container px1 py1">
    <div class="clearfix">
      <div class="col col-12 px1 py1">
        <h1>Tweet Score Board</h1>
      </div>
      <table class="col col-6 px1 py1" style="text-align: center;">
        <tr>
          <td><label class="description" for="homeTeam">Home Team </label>
          <input id="homeTeam" type="text" maxlength="3" value=""/></td>
          <td>
            <span>Location</span></br>
            <label>
              <input id="at" name="location" class="element radio" type="radio" value="at" />
              <span class="choice" for="at_location">AT</span>
            </label>
            <label>
              <input id="vs" name="location" class="element radio" type="radio" value="vs" checked="checked"/>
              <span class="choice" for="vs_location">VS</span>
            </label>
          </td>
          <td><label class="description" for="awayTeam">Away Team </label>
          <input id="awayTeam" type="text" maxlength="3" value=""/></td>
        </tr>
        <tr>
          <td>
            <label>
              <input id="halfTime" name="time" class="element radio" type="radio" value="half" />
              <span class="choice" for="element_3_1">Half Time</span>
            </label>
          </td>
          <td></td>
          <td>
            <label>
              <input id="fullTime" name="time" class="element radio" type="radio" value="full" checked="checked"/>
              <span class="choice" for="element_3_2">Full Time</span>
            </label>
          </td>
        </tr>
        <tr>
          <td><label class="description" for="homeStat">Home Stat (#)</label></td>
          <td><label class="description" for="statName">Stat Name</label></td>
          <td><label class="description" for="awayStat">Away Stat (#)</label></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName0" name="statName" type="text" maxlength="4" value="GOAL"/></td>
          <td><input id="awayStat0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName1" name="statName" type="text" maxlength="4" value="SHOT"/></td>
          <td><input id="awayStat1" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat2" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName2" name="statName" type="text" maxlength="4" value="SoT"/></td>
          <td><input id="awayStat2" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat3" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName3" name="statName" type="text" maxlength="4" value="PAS%"/></td>
          <td><input id="awayStat3" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat4" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName4" name="statName" type="text" maxlength="4" value="POS%"/></td>
          <td><input id="awayStat4" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
        <tr name="statRow">
          <td><input id="homeStat5" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="homeStat" type="text" maxlength="2" value=""/></td>
          <td><input id="statName5" name="statName" type="text" maxlength="4" value="SUBS"/></td>
          <td><input id="awayStat5" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
            name="awayStat" type="text" maxlength="2" value=""/></td>
        </tr>
      </table>

      <div class="col col-12 px1 py1">
        <button class="button rounded" onclick="printScoreboard()">Generate Scoreboard!</button>
      </div>
      <div class="col col-12 px1 py1">
        <div class="col col-6 px1 py1">
          <label class="description" for="scoreboard">Scoreboard </label>
          <div>
            <textarea id="scoreboard" name="scoreboard" class="textarea col col-4" style="width: 300px; height: 300px;"></textarea>
          </div>
        </div>
        <div class="col col-6 px1 py1">
          <label class="description" for="encrypt">Convert Extra Text</label>
          <div>
            <input id="plaintext" onchange="autoconvert();" type="text" value=""/>
          </div>
          <label class="description" for="scoreboard">Result</label>
          <div>
            <input id="encrypted" type="text" value=""/>
          </div>
      </div>
    </div>
  </section>

  <div id="navFooter"></div>

  <script type="text/javascript">
  var home, away;
  function printScoreboard(){
    var timeValues = {"half": "ＨＡＬＦ　　ＴＩＭＥ", "full": "ＦＵＬＬ　　ＴＩＭＥ"};
    var timeText = timeValues["full"];
    var timeRadio = document.getElementsByName('time');
    for (var i = 0, length = timeRadio.length; i < length; i++) {
        if (timeRadio[i].checked) {
            timeText = timeValues[timeRadio[i].value];
            break;
        }
    }

    var locationValues = {"at": " AT ", "vs": " VS "}
    var locationText = convert(locationValues["vs"]);
    var locationRadio = document.getElementsByName('location');
    for (var i = 0, length = locationRadio.length; i < length; i++) {
        if (locationRadio[i].checked) {
            locationText = locationValues[locationRadio[i].value];
            break;
        }
    }

    home = document.getElementById('homeTeam').value;
    away = document.getElementById('awayTeam').value;
    var title = convert(home, 3, "word") + convert(locationText,4,"word") + convert(away, 3, "word") + "\n" + timeText;
    var statlines = "";
    for (var i =0;i<6; i++){
      var homeStat = document.getElementById('homeStat' + i).value;
      var statName = document.getElementById('statName' + i).value;
      var awayStat = document.getElementById('awayStat' + i).value;
      var line = "\n" + convert(homeStat, 2, "number") + "┃" + convert(statName, 4, "word") + "┃" + convert(awayStat, 2, "number");
      statlines += line;
    }
    scoreboard = title + statlines;
    document.getElementById('scoreboard').innerHTML = scoreboard;
  }
  function getShareURL(subject, action, object) {
    var origin = document.location['origin'];
    var pathname = document.location['pathname'];
    return origin + pathname;
  }
  function autoconvert(){
    var encrypted = convert( document.getElementById('plaintext').value );
    document.getElementById('encrypted').value = encrypted;
  }
  function convert(text, length, type){
    var alphabet = "＃　％＆　　　＊＋，━．＼０１２３４５６７８９　　 　　　　ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ　　　　　　ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ";
    var conversion = "";
    for (var i = 0; i < text.length; i++){
      code = ascii(text[i])
      if (code >= 35 && code < 122){
        conversion += alphabet[code-35];
      } else {
        conversion += "　";
      }
    }
    if (type == "number"){
      return "０".repeat(length-conversion.length)+conversion
    } else if (type == "word") {
      return conversion+"　".repeat(length-conversion.length)
    }
    return conversion;
  }
  function ascii (a) { return a.charCodeAt(0); }

  </script>
</body>
</html>
